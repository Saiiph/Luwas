{% extends "general/base.html" %}

{% load static %}

{% block title %}Admin Panel Edit{% endblock %}

{% block content %}
<h2>Edit User</h2>
<form method="post">
    {% csrf_token %}
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" value="{{ user.username }}"><br>
    
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" value="{{ user.email }}"><br>
    
    <label for="first_name">First Name:</label>
    <input type="text" id="first_name" name="first_name" value="{{ user.first_name }}"><br>
    
    <label for="last_name">Last Name:</label>
    <input type="text" id="last_name" name="last_name" value="{{ user.last_name }}"><br>
    
    <label for="profession">Profession:</label>
    <input type="text" id="profession" name="profession" value="{{ user.profession }}"><br>
    
    <label for="department">Department:</label>
    <select id="department" name="department" onchange="this.form.submit()">
        <option value="">-- Select Department --</option>
        {% for department in departments %}
        <option value="{{ department.id }}" {% if department.id == department_id %}selected{% endif %}>{{ department.name }}</option>
        {% endfor %}
    </select><br>
    
    <label for="establishment">Establishment:</label>
    <select id="establishment" name="establishment">
        <option value="">-- Select Establishment --</option>
        {% for establishment in establishments %}
        <option value="{{ establishment.id }}" {% if establishment.id == user.establishment_id %}selected{% endif %}>{{ establishment.name }}</option>
        {% endfor %}
    </select><br>
    
    <button type="submit" name="save">Save</button>
</form>

{% endblock %}